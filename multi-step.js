var progressbar,x=0,steps=$('[data-form="step"]'),progressbarClone=$('[data-form="progress"]').children().clone(),fill=!1;function disableBtn(){fill=!1,$('[data-form="next-btn"]').css({opacity:"0.2","pointer-events":"none"}),$('[data-form="submit-btn"]').css({opacity:"0.5","pointer-events":"none"})}function enableBtn(){fill=!0,$('[data-form="next-btn"]').css({opacity:"1","pointer-events":"auto"}),$('[data-form="submit-btn"]').css({opacity:"1","pointer-events":"auto"})}function updateStep(){$(steps[x]).data("card")&&enableBtn(),$(steps[x]).find(":input").trigger("input"),$('[data-text="curStep"]').text(x+1),steps.hide(),window.Webflow&&window.Webflow.require("ix2").init(),$(steps[x]).show(),$(progressbar[x]).addClass("current"),document.dispatchEvent(new Event("readystatechange")),0===x?$('[data-form="back-btn"]').hide():x===steps.length-1?($('[data-form="next-btn"]').hide(),$('[data-form="submit-btn"]').show()):($('[data-form="next-btn"]').show(),$('[data-form="back-btn"]').show(),$('[data-form="submit-btn"]').hide()),$($(steps[x]).find("textarea")[0]).focus(),$($(steps[x]).find("input")[0]).focus()}function validateEmail(t){/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t)?enableBtn():disableBtn()}function validation(t){if($(steps[x]).find(":input").is('[type="checkbox"]')){var e=$(steps[x]).data("checkbox")?$(steps[x]).data("checkbox"):0;"*"===e||e>$(steps[x]).find(':input[type="checkbox"]').length?$(steps[x]).find(':input[type="checkbox"]').each((function(){$(this).is(":checked")?enableBtn():disableBtn()})):$(steps[x]).find(':input[type="checkbox"]:checked').length>=e||0===e?enableBtn():disableBtn()}else $(steps[x]).find(":input").is('[type="radio"]')?$(steps[x]).find(':input[type="radio"]').prop("required")?$(steps[x]).find(':input[type="radio"]').is(":checked")?enableBtn():disableBtn():enableBtn():$(steps[x]).find(":input").each((function(t){$(this).prop("required")?""!==$(this).val()?$(this).is('[type="email"]')?validateEmail($(this).val()):enableBtn():disableBtn():enableBtn()}))}function nextStep(){x<steps.length-1&&(x++,updateStep())}function backStep(){x>0&&($(progressbar[x]).removeClass("current"),x--,updateStep())}$('[data-form="progress"]').children().remove(),$('[data-text="totalSteps"]').text($('[data-form="step"]').length),$('[data-form="submit-btn"]').hide(),$("form").on("keypress",(function(t){13===t.keyCode&&fill&&($("[data-enter]").data("enter")?($('[data-form="next-btn"]')[0].click(),x===steps.length-1?$("form").submit():t.preventDefault()):t.preventDefault())})),$('[data-form="next-btn"]').on("click",(function(){nextStep()})),$('[data-form="back-btn"]').on("click",(function(){backStep()})),$(steps).find(":input").on("input",(function(t){validation(t)})),$(steps).find(":radio").on("click",(function(){$(steps[x]).find(":input").is(":checked")&&setTimeout((function(){nextStep()}),500)})),steps.each((function(){$('[data-form="progress"]').append(progressbarClone.clone())})),progressbar=$('[data-form="progress"]').children(),disableBtn(),updateStep();
